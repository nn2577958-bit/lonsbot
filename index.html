<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LONS PAL ì™„ì „íŒ + ë½‘ê¸°</title>
<style>
body {
  margin:0;
  font-family:'Noto Sans KR',sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  background:linear-gradient(135deg,#89f7fe,#66a6ff);
}
.card, .module9 {
  background:white;
  border-radius:15px;
  box-shadow:0 10px 25px rgba(0,0,0,0.15);
  width:360px;
  padding:30px 25px;
  text-align:center;
  opacity:0;
  transform:translateY(20px);
  transition:opacity 0.5s ease, transform 0.5s ease;
}
.card.show,.module9.show{opacity:1;transform:translateY(0);}
input{width:100%;padding:12px 15px;margin-bottom:15px;border:1px solid #ddd;border-radius:8px;font-size:14px;transition:all 0.3s;}
input:focus{border-color:#66a6ff;box-shadow:0 0 5px rgba(102,166,255,0.5);outline:none;}
button{width:100%;padding:12px;border:none;border-radius:10px;background:linear-gradient(45deg,#66a6ff,#89f7fe);color:white;font-size:16px;cursor:pointer;margin-bottom:10px;transition:transform 0.2s ease, box-shadow 0.3s ease, background 0.3s ease;}
button:hover{transform:scale(1.1) rotate(-2deg);box-shadow:0 8px 20px rgba(0,0,0,0.3);background:linear-gradient(45deg,#89f7fe,#66a6ff);}
button:active{transform:scale(0.95) rotate(0deg);box-shadow:0 4px 10px rgba(0,0,0,0.2);}
p{margin-top:10px;font-size:14px;color:#666;}
a{color:#66a6ff;text-decoration:none;font-weight:500;}
a:hover{text-decoration:underline;}
.module-card{background:#f7f9ff;padding:15px;margin:10px 0;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,0.1);text-align:left;opacity:0;transform:translateY(20px);animation:fadeInUp 0.5s forwards;}
.gacha-card{display:inline-block;background:#fffbdd;padding:15px;margin:5px;border-radius:12px;box-shadow:0 5px 10px rgba(0,0,0,0.2);opacity:0;transform:translateY(20px);animation:fadeInUp 0.5s forwards;}
@keyframes fadeInUp{to{transform:translateY(0);opacity:1;}}
</style>
</head>
<body>

<!-- ë¡œê·¸ì¸ í™”ë©´ -->
<div class="card show" id="loginCard">
<h1>ë¡œê·¸ì¸</h1>
<input type="text" id="username" placeholder="ì•„ì´ë””">
<input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸">
<button id="loginBtn">ë¡œê·¸ì¸</button>
<p>íšŒì›ì´ ì•„ë‹ˆì‹ ê°€ìš”? <a href="#" id="showSignup">íšŒì›ê°€ì…</a></p>
</div>

<!-- íšŒì›ê°€ì… í™”ë©´ -->
<div class="card" id="signupCard" style="display:none;">
<h1>íšŒì›ê°€ì…</h1>
<input type="text" id="newUsername" placeholder="ì•„ì´ë””">
<input type="password" id="newPassword" placeholder="ë¹„ë°€ë²ˆí˜¸">
<input type="password" id="confirmPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸">
<button id="signupBtn">íšŒì›ê°€ì…</button>
<p>ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? <a href="#" id="backToLogin">ë¡œê·¸ì¸</a></p>
</div>

<!-- ëª¨ë“ˆ 9 í™”ë©´ -->
<div class="module9" id="module9">
<h2 id="welcomeMsg">ëª¨ë“ˆ 9</h2>
<p id="introMsg">ë¡œê·¸ì¸ ì„±ê³µ! ì•„ë˜ëŠ” ëª¨ë“ˆ 9ì˜ ì£¼ìš” ë‚´ìš©ì…ë‹ˆë‹¤.</p>
<div id="moduleContent"></div>
<button id="gachaBtn">ğŸ² ë½‘ê¸°</button>
<div id="gachaResult"></div>
<button id="logoutBtn">ë¡œê·¸ì•„ì›ƒ</button>
</div>

<script>
const loginBtn=document.getElementById('loginBtn');
const logoutBtn=document.getElementById('logoutBtn');
const loginCard=document.getElementById('loginCard');
const module9=document.getElementById('module9');
const moduleContent=document.getElementById('moduleContent');
const welcomeMsg=document.getElementById('welcomeMsg');

const showSignup=document.getElementById('showSignup');
const backToLogin=document.getElementById('backToLogin');
const signupCard=document.getElementById('signupCard');
const signupBtn=document.getElementById('signupBtn');

const gachaBtn=document.getElementById('gachaBtn');
const gachaResult=document.getElementById('gachaResult');

// ëª¨ë“ˆ ì¹´ë“œ ë°ì´í„°
const moduleData=[
{title:"ê³µì§€ì‚¬í•­",text:"ì˜¤ëŠ˜ ì‹œìŠ¤í…œ ì ê²€ì´ ìˆìŠµë‹ˆë‹¤."},
{title:"ì—…ë¬´ ì•Œë¦¼",text:"ë§ˆê°ëœ ë³´ê³ ì„œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”."},
{title:"í†µê³„",text:"ì´ë²ˆ ì£¼ ë°©ë¬¸ì ìˆ˜: 1,234ëª…"},
{title:"ìƒˆ ë©”ì‹œì§€",text:"ìƒˆë¡œìš´ ìª½ì§€ê°€ ë„ì°©í–ˆìŠµë‹ˆë‹¤."}
];

// ë½‘ê¸° ì•„ì´í…œ
const gachaItems=["ğŸŒŸë ˆì–´ ì¹´ë“œ","âœ¨ìŠˆí¼ ë ˆì–´","ğŸ’ì „ì„¤ ì¹´ë“œ","ğŸª™ì½”ì¸ 100","â¤ï¸ì²´ë ¥ íšŒë³µ","âš¡ìŠ¤í‚¬ ì—…"];
const GACHA_INTERVAL=10*60*1000; // 10ë¶„
const GACHA_KEY='lastGachaTime';

function showModule9(username){
  loginCard.style.display='none';
  signupCard.style.display='none';
  module9.style.display='block';
  module9.classList.add('show');
  welcomeMsg.textContent=`${username}ë‹˜, ëª¨ë“ˆ 9ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!`;
  moduleContent.innerHTML='';
  moduleData.forEach((item,index)=>{
    const card=document.createElement('div');
    card.className='module-card';
    card.style.animationDelay=`${index*0.1}s`;
    card.innerHTML=`<h3>${item.title}</h3><p>${item.text}</p>`;
    moduleContent.appendChild(card);
  });
}

loginBtn.addEventListener('click',()=>{
  const username=document.getElementById('username').value.trim();
  const password=document.getElementById('password').value.trim();
  if(!username||!password){alert('ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');return;}
  showModule9(username);
});

showSignup.addEventListener('click',(e)=>{e.preventDefault();loginCard.style.display='none';signupCard.style.display='block';signupCard.classList.add('show');});
backToLogin.addEventListener('click',(e)=>{e.preventDefault();signupCard.style.display='none';loginCard.style.display='block';loginCard.classList.add('show');});

signupBtn.addEventListener('click',()=>{
  const newUser=document.getElementById('newUsername').value.trim();
  const newPass=document.getElementById('newPassword').value.trim();
  const confirmPass=document.getElementById('confirmPassword').value.trim();
  if(!newUser||!newPass||!confirmPass){alert('ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');return;}
  if(newPass!==confirmPass){alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');return;}
  alert(`${newUser}ë‹˜, íšŒì›ê°€ì… ì™„ë£Œ! ìë™ ë¡œê·¸ì¸ë©ë‹ˆë‹¤.`);
  showModule9(newUser);
});

logoutBtn.addEventListener('click',()=>{
  module9.style.display='none';
  loginCard.style.display='block';
  document.getElementById('username').value='';
  document.getElementById('password').value='';
  moduleContent.innerHTML='';
  gachaResult.innerHTML='';
});

// ë½‘ê¸° ë²„íŠ¼ (10ë¶„ ì œí•œ)
gachaBtn.addEventListener('click',()=>{
  const lastTime=localStorage.getItem(GACHA_KEY);
  const now=Date.now();
  if(lastTime && now - lastTime < GACHA_INTERVAL){
    const remain=Math.ceil((GACHA_INTERVAL-(now-lastTime))/1000);
    alert(`ì•„ì§ ë½‘ê¸° ì‹œê°„ì´ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!\në‚¨ì€ ì‹œê°„: ${Math.floor(remain/60)}ë¶„ ${remain%60}ì´ˆ`);
    return;
  }

  const randIndex=Math.floor(Math.random()*gachaItems.length);
  const item=gachaItems[randIndex];
  const card=document.createElement('div');
  card.className='gacha-card';
  card.innerHTML=item;
  gachaResult.appendChild(card);

  localStorage.setItem(GACHA_KEY, now);
});
</script>

</body>
</html>
