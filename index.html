<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LONS Palworld ë¡œê·¸ì¸</title>

<link rel="icon" href="https://cdn.phototourl.com/uploads/2026-02-16-b555cb64-84f5-4ab4-b235-73d0d2be6482.png" type="image/png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

<style>
body { 
  margin:0; 
  height:100vh; 
  display:flex; 
  justify-content:center; 
  align-items:center; 
  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-image: linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), url('https://cdn.phototourl.com/uploads/2026-02-16-be12475d-955e-4258-b559-d05dd22da876.jpg');
  background-size:cover; 
  background-position:center; 
  background-repeat:no-repeat; 
}

/* ê·¸ë¦¬ë“œ ì»¨í…Œì´ë„ˆ */
.container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-gap: 6px;
  width: 320px;
  padding:12px;
  text-align:center;
}

/* íƒ€ì´í‹€ */
h2 {
  grid-column: 1 / 3;
  color:#fff;
  font-size:18px;
  margin-bottom:8px;
  text-shadow:1.5px 1.5px 6px rgba(0,0,0,0.8);
  border:1.5px solid rgba(255,255,255,0.5);
  border-radius:6px;
  padding:4px 6px;
}

/* ê´€ë¦¬ì/ì„œë²„ ìƒíƒœ + ë¡œê·¸ì¸ ë©”ì‹œì§€ */
#admin-status, #server-status, #login-msg {
  padding:3px 5px;
  font-size:13px;
  color:white;
  font-weight:bold;
  border:1.5px solid rgba(255,255,255,0.7);
  border-radius:6px;
  text-shadow: 1.5px 1.5px 6px rgba(0,0,0,1),0 0 3px rgba(255,255,255,0.5);
  background: rgba(0,0,0,0.2);
  line-height:1.3;
}

/* ìœ„ì¹˜ ì§€ì •: ë‘ì¹¸ ë‘ì¹¸ í•œì¹¸ */
#admin-status { grid-column: 1 / 2; }
#server-status { grid-column: 2 / 3; }
#login-msg { grid-column: 1 / 3; } /* ë‘ì¹¸ í•©ì¹¨ */

/* ë²„íŠ¼ */
button {
  padding:10px;
  font-size:14px;
  font-weight:600;
  border-radius:6px;
  cursor:pointer;
  border:none;
  transition: all 0.2s ease;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
  display:flex;
  align-items:center;
  justify-content:center;
}

/* ë²„íŠ¼ ìœ„ì¹˜ */
#google-btn { grid-column: 1 / 2; }
#discord-btn { grid-column: 2 / 3; }

/* Google ë²„íŠ¼ */
#google-btn {
  background: #fff;
  color:#444;
  border:1px solid #ccc;
  box-shadow:0 2px 5px rgba(0,0,0,0.35);
}
#google-btn i { margin-right:5px; color:#DB4437; }
#google-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 3px 8px rgba(0,0,0,0.45);
  background:#f0f0f0;
}

/* Discord ë²„íŠ¼ */
#discord-btn {
  background:#7289DA;
  color:#fff;
  box-shadow:0 2px 5px rgba(0,0,0,0.35);
}
#discord-btn i { margin-right:5px; }
#discord-btn:hover {
  transform: translateY(-1px);
  box-shadow:0 3px 8px rgba(0,0,0,0.45);
  background:#5b6eae;
}
#discord-btn.disabled {
  cursor:not-allowed;
  opacity:0.6;
}

/* íˆ´íŒ */
#discord-btn[data-tooltip]:hover::after {
  content:attr(data-tooltip);
  position:absolute;
  top:-25px;
  left:50%;
  transform:translateX(-50%);
  background:#444;
  color:#fff;
  padding:3px 6px;
  border-radius:5px;
  font-size:11px;
  white-space:nowrap;
  z-index:10;
}
</style>
</head>

<body>
<div class="container">
  <h2>LONS SV Palworld ë¡œê·¸ì¸</h2>
  <div id="admin-status">ğŸŸ¢ ê´€ë¦¬ì ì˜¨ë¼ì¸</div>
  <div id="server-status">ğŸŸ¢ LONS SV ONLINE</div>
  <div id="login-msg">êµ¬ê¸€ ë¡œê·¸ì¸ í›„ ì°¸ì—¬í•˜ê¸° ë²„íŠ¼ì´ í™œì„±í™”ë©ë‹ˆë‹¤!</div>
  <button id="google-btn"><i class="fab fa-google"></i> Google ë¡œê·¸ì¸</button>
  <button id="discord-btn" class="disabled" data-tooltip="ë¡œê·¸ì¸ í›„ í™œì„±í™”ë©ë‹ˆë‹¤"><i class="fab fa-discord"></i> ë””ìŠ¤ì½”ë“œ ì°¸ì—¬í•˜ê¸°</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyCyiAepd539cBTPwtcVnAR-HJbb8roLJmE",
  authDomain: "lons-dc24d.firebaseapp.com",
  projectId: "lons-dc24d",
  storageBucket: "lons-dc24d.appspot.com",
  messagingSenderId: "755692328918",
  appId: "1:755692328918:web:a4eb4563cb862d3eb5b677"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

const adminStatus = document.getElementById("admin-status");
const serverStatus = document.getElementById("server-status");
const googleBtn = document.getElementById("google-btn");
const discordBtn = document.getElementById("discord-btn");
const loginMsg = document.getElementById("login-msg");

let opacity = 1;
let fadingOut = true;

function updateStatus(){
  const now = new Date();
  const kstString = now.toLocaleString("ko-KR",{hour12:false,timeZone:"Asia/Seoul"});

  adminStatus.innerHTML = `ğŸŸ¢ ê´€ë¦¬ì ì˜¨ë¼ì¸<br>${kstString}`;
  serverStatus.innerHTML = `ğŸŸ¢ LONS SV ONLINE<br>${kstString}`;

  if(fadingOut){ opacity -=0.05; if(opacity<=0.5){opacity=0.5; fadingOut=false;} }
  else { opacity +=0.05; if(opacity>=1){opacity=1; fadingOut=true;} }

  adminStatus.style.borderColor = `rgba(255,255,255,${opacity})`;
  serverStatus.style.borderColor = `rgba(255,255,255,${opacity})`;
}

setInterval(updateStatus,1000);

onAuthStateChanged(auth,user=>{
  if(user){ 
    discordBtn.classList.remove('disabled');
    discordBtn.removeAttribute('data-tooltip');
  } else {
    discordBtn.classList.add('disabled');
    discordBtn.setAttribute('data-tooltip','ë¡œê·¸ì¸ í›„ í™œì„±í™”ë©ë‹ˆë‹¤');
  }
});

googleBtn.addEventListener("click", async ()=>{
  googleBtn.disabled = true;
  loginMsg.textContent="";
  const provider = new GoogleAuthProvider();
  try{
    await signInWithPopup(auth,provider);
    loginMsg.textContent="ë¡œê·¸ì¸ ì„±ê³µ! ë””ìŠ¤ì½”ë“œ ì°¸ì—¬í•˜ê¸° ë²„íŠ¼ì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.";
  }catch(err){
    loginMsg.textContent="ë¡œê·¸ì¸ ì‹¤íŒ¨: "+err.message;
    googleBtn.disabled=false;
  }
});

discordBtn.addEventListener("click", ()=>{
  if(discordBtn.classList.contains('disabled')){
    loginMsg.textContent="êµ¬ê¸€ ë¡œê·¸ì¸ í›„ ì°¸ì—¬í•˜ê¸° ë²„íŠ¼ì´ í™œì„±í™”ë©ë‹ˆë‹¤!";
    return;
  }
  loginMsg.textContent="ì ì‹œ í›„ í™ˆìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤...";
  setTimeout(()=>window.location.href="home.html",1500);
});
</script>
</body>
</html>
